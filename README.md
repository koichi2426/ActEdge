# ActEdge – 現状把握リアルタイム推論エンジン

ユーザーの環境・ペルソナ・発言から、**今この瞬間に最も適した行動（または介入しないという選択）** をリアルタイムに判断する、モバイル・組み込み対応の軽量推論エンジン。

---

## ■ 目的

本エンジンは、ユーザーの **環境情報**、**ペルソナ情報**、および **発言情報（未発話も含む）** をもとに、与えられた候補メソッド群から、**「今この瞬間に最も適した行動、または何もしない（NoAction）」** を選択します。

推論結果が「何もしない（NoAction）」であっても、それは状況が安定しており、ユーザーに最適な介入が不要であると判断された結果です。
モバイル・組み込み環境での即時動作と、**過干渉を避ける設計**を重視しています。

---

## ■ 入出力仕様

| 種類  | 内容例                                                                                |
| --- | ---------------------------------------------------------------------------------- |
| 入力① | 環境情報：時間帯、場所、周囲音、照明、温湿度、使用中のデバイスなど                                                  |
| 入力② | ペルソナ情報：年齢、性格、生活習慣、疲労度、目的、嗜好など                                                      |
| 入力③ | 発言情報（省略可）：自然言語の発話・入力（例：「ちょっと一息つきたい」）                                               |
| 入力④ | 候補メソッド群：RelaxMusic, SuggestBreak, NotifyHydration, LaunchFocusApp, **NoAction** など |
| 出力  | 最適なメソッド（1つ、例：`SuggestBreak` または `NoAction`）とその理由（スコア・根拠付き）                         |

---

## ■ コア処理構造（Decision Engine）

### 1. 条件照合層（Rule-based Filter）

* ハード制約により不適合メソッドを除外

  * 例：「外出中は照明操作不可」「深夜のアラート送信禁止」

### 2. 発言解析層（NLU Analysis Layer）

* 発話があれば：

  * **意図（Intent）**、**感情（Emotion）**、**緊急度（Urgency）** を抽出
* 発話がない場合は環境・ペルソナ情報のみから内的状態を推定

### 3. 行動予測層（Intent Estimation）

* 各種情報を統合し、**何らかの行動が必要か／NoActionが最適か** を判断
* 構成：SVM / RandomForest / ヒューリスティクス併用

### 4. 適合度評価層（Method-Intent Matching）

* 候補メソッド（含むNoAction）との適合度を評価

### 5. スコア統合層（Multi-Factor Scoring）

| 指標                     | 内容                    |
| ---------------------- | --------------------- |
| 満足度（Utility）           | 行動実行による快適性            |
| 緊急度（Urgency）           | 今すぐ実行すべき度合い           |
| 干渉度（Interruption Risk） | 現在の活動を邪魔しないか          |
| 実行コスト                  | 認知負荷・時間・エネルギー         |
| 無干渉適合度                 | **NoActionを選ぶことの適切性** |

---

## ■ 特徴と強み

* ✅ **過干渉抑制**：状況が安定していれば介入せずNoActionを推奨
* ✅ **常時推論型**：発言がなくても状態変化に応じて常に判断を実行
* ✅ **説明可能性**：選択／非選択の理由をスコア・ルールで提示
* ✅ **軽量実装**：SVMや木構造により省メモリ・高速推論
* ✅ **高拡張性**：新メソッド／新ルール／スコア軸の追加が容易

---

## ■ ユースケース例

| 状況         | 発言           | 推奨メソッド                     |
| ---------- | ------------ | -------------------------- |
| 午後＋静穏＋集中状態 | （発言なし）       | `NoAction`（干渉せず維持）         |
| 深夜＋疲労＋静寂   | 「今日はもう無理かも…」 | `SuggestBreak`             |
| 夏＋高温＋屋内    | （発言なし）       | `NotifyHydration`（環境リスク検知） |
| 通勤中＋雑音環境   | 「静かにしてほしいな…」 | `PlayCalmMusic`            |

---

## ■ データ仕様と学習方針

* **履歴件数**：3,000〜10,000件（状況・発言・メソッド含む）
* **特徴量**：

  * 環境（10項目）、ペルソナ（10項目）、発言エンベディング（任意）
* **手法**：

  * SVM、RandomForest、LightNN、小規模NN＋ルール合成

---

## ■ ライセンス

MIT License（[LICENSE](./LICENSE)）

---

## ■ 開発者

* 作成者: 佐藤 幸一
* GitHub: [github.com/koichi2426](https://github.com/koichi2426)
* 連絡先: [satoyskkh200426@gmail.com](mailto:satoyskkh200426@gmail.com)
